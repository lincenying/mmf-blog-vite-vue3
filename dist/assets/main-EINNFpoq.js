const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-Ddeo9UPc.js","assets/vendor-Dmpv-XRu.css","assets/404-BQbzLh34.js","assets/use-frontend-article-store-W14uyFp2.js","assets/unocss--QrptOon.css","assets/frontend-index-DZVuliod.js","assets/item-actions.vue_vue_type_script_setup_true_lang-rF7IrlKp.js","assets/use-global-category-store-DXLQZmLT.js","assets/frontend-article-C_AiORjQ.js","assets/use-global-comment-store-Bf-qxiFQ.js","assets/frontend-about-BVfGjIXb.js","assets/frontend-user-CAjNlaws.js","assets/frontend-user-account-CfU4uiGt.js","assets/a-input.vue_vue_type_script_setup_true_lang-BkUjfmUk.js","assets/frontend-user-password-Dd-M8M6a.js","assets/backend-login-BerSmeXW.js","assets/backend-index-D6sjMqbQ.js","assets/backend-article-list-BwCo8ofG.js","assets/use-backend-article-store-m2JidQZO.js","assets/backend-article-insert-BX-34AkJ.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-DiMwFrxq.js","assets/backend-article-comment-WqR8zJqX.js","assets/backend-category-list-B6W_NIjB.js","assets/backend-category-insert-ChSa9Are.js","assets/backend-category-modify-D14KAlCF.js","assets/backend-admin-list-D07RBiX2.js","assets/use-backend-admin-store-Cw6dP6_R.js","assets/backend-admin-modify-C89ksffc.js","assets/backend-user-list-jFZWHfl4.js","assets/use-backend-user-store-B1s9BfZ1.js","assets/backend-user-modify-Bh9dyNlm.js"])))=>i.map(i=>d[i]);
import{r as x,d as A,c as T,a as le,u as f,o as y,b as i,E as Te,e as j,f as ce,g as ee,h as W,i as Ee,j as Se,k as H,n as Re,l as xe,w as C,v as Le,m as ue,p as de,t as M,q as $e,s as Ae,x as pe,y as te,z as Ie,A as Ce,B as Me,C as D,D as Be,F as X,G as B,H as ne,I as ae,J as k,K as L,L as Ve,M as me,N as Oe,T as De,O as Y,P as We,S as Ne,Q as Ue,R as qe,U as je,V as fe,W as _e,X as Fe,Y as ge,Z as ze,_ as He,$ as Xe,a0 as Ke,a1 as Ge}from"./vendor-Ddeo9UPc.js";/* empty css               */(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(o){if(o.ep)return;o.ep=!0;const t=r(o);fetch(o.href,t)}})();const Ye="modulepreload",Je=function(e){return"/"+e},re={},_=function(n,r,l){let o=Promise.resolve();if(r&&r.length>0){let m=function(d){return Promise.all(d.map(s=>Promise.resolve(s).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=m(r.map(d=>{if(d=Je(d),d in re)return;re[d]=!0;const s=d.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const p=document.createElement("link");if(p.rel=s?"stylesheet":Ye,s||(p.as="script"),p.crossOrigin="",p.href=d,u&&p.setAttribute("nonce",u),document.head.appendChild(p),s)return new Promise((b,h)=>{p.addEventListener("load",b),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})}))}function t(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return o.then(a=>{for(const u of a||[])u.status==="rejected"&&t(u.reason);return n().catch(t)})};function Qe(e={}){const{immediate:n=!1,onNeedRefresh:r,onOfflineReady:l,onRegistered:o,onRegisteredSW:t,onRegisterError:a}=e;let u,m;const d=async(c=!0)=>{await m};async function s(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:c}=await import("./vendor-Ddeo9UPc.js").then(p=>p.ag);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{a==null||a(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||l==null||l()}),u.register({immediate:n}).then(c=>{t?t("/sw.js",c):o==null||o(c)}).catch(c=>{a==null||a(c)})}}return m=s(),d}function Ze(e={}){const{immediate:n=!0,onNeedRefresh:r,onOfflineReady:l,onRegistered:o,onRegisteredSW:t,onRegisterError:a}=e,u=x(!1),m=x(!1);return{updateServiceWorker:Qe({immediate:n,onNeedRefresh(){u.value=!0,r==null||r()},onOfflineReady(){m.value=!0,l==null||l()},onRegistered:o,onRegisteredSW:t,onRegisterError:a}),offlineReady:m,needRefresh:u}}const et={key:0,id:"app-refresh",class:"app-refresh"},tt={class:"app-refresh-wrap"},he=A({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:n,needRefresh:r,updateServiceWorker:l}=Ze();async function o(){n.value=!1,r.value=!1}return(t,a)=>f(r)?(y(),T("div",et,[i("div",tt,[a[1]||(a[1]=i("label",null,"新内容可用，单击刷新按钮更新",-1)),i("span",{onClick:a[0]||(a[0]=u=>f(l)())},"刷新"),i("span",{onClick:o},"关闭")])])):le("",!0)}});function nt(e){return e.use(Te),e.config.globalProperties.$msgbox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt,e.config.globalProperties.$message=ce,e}const ot=ce;function st(e){nt(e)}const at={install:st},rt=A({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:n}){const r=x(!1);return ee(()=>{r.value=!0}),l=>{var u;if(r.value)return(u=n.default)==null?void 0:u.call(n);const o=n.fallback||n.placeholder;if(o)return o();const t=l.fallback||l.placeholder||"",a=l.fallbackTag||l.placeholderTag||"span";return T(a,null,t)}}}),it="#88888825",lt=A({__name:"bg-plum",setup(e){const n=Math.PI,r=Math.PI/2,l=Math.PI/12,o=x(null),{random:t}=Math,a=W(Ee()),u=x(()=>{}),m=x(4),d=x(6),s=x(!1);function c(h,v=400,S=400,I){const g=h.getContext("2d"),E=window.devicePixelRatio||1,$=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1,w=E/$;return h.style.width=`${v}px`,h.style.height=`${S}px`,h.width=w*v,h.height=w*S,g.scale(w,w),{ctx:g,dpi:w}}function p(h=0,v=0,S=0,I=0){const g=S*Math.cos(I),E=S*Math.sin(I);return[h+g,v+E]}ee(async()=>{const h=o.value,{ctx:v}=c(h,a.width,a.height),{width:S,height:I}=h;let g=[],E=[],$=0;const w=(q,se,G)=>{const ye=t()*d.value,[V,O]=p(q,se,ye,G);v.beginPath(),v.moveTo(q,se),v.lineTo(V,O),v.stroke();const be=G+t()*l,Pe=G-t()*l;V<-100||V>a.width+100||O<-100||O>a.height+100||(($<=m.value||t()>.5)&&g.push(()=>w(V,O,be)),($<=m.value||t()>.5)&&g.push(()=>w(V,O,Pe)))};let N=performance.now();const ke=1e3/40;let U;U=Se(()=>{performance.now()-N<ke||($+=1,E=g,g=[],N=performance.now(),E.length||(U.pause(),s.value=!0),E.forEach(q=>q()))},{immediate:!1}),u.value=()=>{U.pause(),$=0,v.clearRect(0,0,S,I),v.lineWidth=1,v.strokeStyle=it,E=[],g=[()=>w(t()*a.width,0,r),()=>w(t()*a.width,a.height,-r),()=>w(0,t()*a.height,0),()=>w(a.width,t()*a.height,n)],a.width<500&&(g=g.slice(0,2)),U.resume(),s.value=!1},u.value()});const b=H(()=>"radial-gradient(circle, transparent, black);");return(h,v)=>(y(),T("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:Re([{"z-index":"-1"},`mask-image: ${f(b)};--webkit-mask-image: ${f(b)};`])},[i("canvas",{ref_key:"el",ref:o,width:"400",height:"400"},null,512)],4))}}),ct={class:"back-top"},ut=A({name:"BackTop",__name:"back-top",setup(e){const{y:n}=xe();function r(){let l=n.value;const o=setInterval(()=>{l-=Math.abs(l*.1),l<=1&&(l=0,clearInterval(o)),window.scrollTo(0,l)},20)}return(l,o)=>C((y(),T("div",ct,[i("a",{href:"javascript:;",onClick:r})],512)),[[Le,f(n)>500]])}});ue();const K=de("globalStore",()=>{const e=W({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),n=o=>{e.showLoginModal=o},r=o=>{e.showRegisterModal=o},l=o=>{e.cookies=o};return{...M(e),setLoginModal:n,setRegisterModal:r,setCookies:l}}),oe=de("appShellStore",()=>{const e=W({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),n=()=>{e.needPageTransition=!0},r=()=>{e.needPageTransition=!1},l=a=>{e.isPageSwitching=a},o=a=>{const{path:u,scrollTop:m}=a;e.historyPageScrollTop[u]=m},t=a=>{e.pageTransitionName=a};return{...M(e),enablePageTransition:n,disablePageTransition:r,setPageSwitching:l,saveScrollTop:o,setPageTransitionName:t}});function _n(){const e=Me(),n=e.appContext.config.globalProperties,r=e.type;return{ctx:n,options:r}}function ve(e,n="auto"){const[r,l]=$e(!1);return async(...o)=>{if(!r.value){l(!0);try{const t=await e(...o);(n===!0||n==="auto"&&t!==!1)&&l(!1)}catch(t){throw l(!1),t}}}}function gn(){const e=pe(),n=oe(),{historyPageScrollTop:r}=te(n);Ie(()=>{const l=r.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,l)},300)}),ee(()=>{const l=r.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,l)},300)}),Ce((l,o,t)=>{n.saveScrollTop({path:o.fullPath,scrollTop:Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop)}),t()})}function ie(e,n){return e=e||"123456",e=decodeURIComponent(e),n=n||256,`https://cravatar.cn/avatar/${Ae(e)}?s=${n}&d=identicon&r=g`}function R(e){let n,r;e?typeof e=="string"?(n=e,r="error"):(n=e.content,r=e.type):(n="接口返回数据错误",r="error"),ot[r](n)}const F={api:"/api/",timeout:3e4};D.interceptors.request.use(e=>e,e=>Promise.reject(e));D.interceptors.response.use(e=>e,e=>{const n={};return n.config=e.config,n.data=null,n.headers=e.config.headers,n.status=e.code,n.statusText=e.message,n.request=e.request,Promise.resolve(n)});function J(e){return e.status===200||e.status===304?e.data:e.status===401?{code:401,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"您还没有登录, 或者登录超时!"}:{code:-404,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:`接口返回数据错误, 错误代码: ${e.status||"未知"}`}}function Q(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&R(e.message),e}function dt(){return{async file(e,n){const r=await D({method:"post",url:e,data:n,headers:{"X-Requested-With":"XMLHttpRequest"}}),l=J(r);return Q(l)},async post(e,n){const r=await D({method:"post",url:F.api+e,data:Be.stringify(n),timeout:F.timeout,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),l=J(r);return Q(l)},async get(e,n){const r=await D({method:"get",url:F.api+e,params:n,timeout:F.timeout,headers:{"X-Requested-With":"XMLHttpRequest"}}),l=J(r);return Q(l)}}}const we=dt(),pt={class:"modal modal-signup"},mt={class:"modal-content"},ft={class:"sign-up-form"},_t={class:"input-wrap"},gt={class:"input-wrap"},ht={class:"input-wrap"},vt={class:"input-wrap"},wt=A({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const r=M(e),l=X(r,"show"),o=K(),t=W({username:"",email:"",password:"",re_password:""});function a(){o.setRegisterModal(!1)}function u(){o.setLoginModal(!0),o.setRegisterModal(!1)}const m=ve(async()=>{const d=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return R("请将表单填写完整!");if(ae(t.username)<4)return R("用户长度至少 2 个中文或 4 个英文!");if(d.test(t.email)){if(ae(t.password)<8)return R("密码长度至少 8 位!");if(t.password!==t.re_password)return R("两次输入的密码不一致!")}else return R("邮箱格式错误!");const{code:s,message:c}=await we.post("frontend/user/insert",t);s===200&&(R({type:"success",content:c}),u())});return(d,s)=>(y(),T("div",{class:ne(["modal-wrap modal-signup-wrap",l.value?"active":""])},[s[11]||(s[11]=i("span",{class:"center-helper"},null,-1)),i("div",pt,[s[10]||(s[10]=i("h2",{class:"modal-title"},"注册",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:a},[...s[5]||(s[5]=[i("i",{class:"icon icon-close-black"},null,-1)])]),i("div",mt,[i("form",ft,[i("div",_t,[C(i("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>f(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,f(t).username]]),s[6]||(s[6]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",gt,[C(i("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>f(t).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[B,f(t).email]]),s[7]||(s[7]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",ht,[C(i("input",{"onUpdate:modelValue":s[2]||(s[2]=c=>f(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,f(t).password]]),s[8]||(s[8]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",vt,[C(i("input",{"onUpdate:modelValue":s[3]||(s[3]=c=>f(t).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[B,f(t).re_password]]),s[9]||(s[9]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:s[4]||(s[4]=(...c)=>f(m)&&f(m)(...c))},"确认注册"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"直接登录")])])])],2))}}),kt={class:"modal modal-signup"},yt={class:"modal-content"},bt={class:"sign-up-form"},Pt={class:"input-wrap"},Tt={class:"input-wrap"},Et=A({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const r=M(e),l=X(r,"show"),o=K(),t=W({username:"",password:""});function a(){o.setLoginModal(!1)}function u(){o.setLoginModal(!1),o.setRegisterModal(!0)}const m=ve(async()=>{if(!t.username||!t.password)return R("请将表单填写完整!");const{code:d,message:s}=await we.post("frontend/user/login",t);d===200&&(R({type:"success",content:s}),window.location.reload())});return(d,s)=>(y(),T("div",{class:ne(["modal-wrap modal-sign-in-wrap",l.value?"active":""])},[s[7]||(s[7]=i("span",{class:"center-helper"},null,-1)),i("div",kt,[s[6]||(s[6]=i("h2",{class:"modal-title"},"登录",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:a},[...s[3]||(s[3]=[i("i",{class:"icon icon-close-black"},null,-1)])]),i("div",yt,[i("form",bt,[i("div",Pt,[C(i("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>f(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,f(t).username]]),s[4]||(s[4]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",Tt,[C(i("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>f(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,f(t).password]]),s[5]||(s[5]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:s[2]||(s[2]=(...c)=>f(m)&&f(m)(...c))},"确认登录"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"我要注册")])])])],2))}}),St={class:"global-nav"},Rt={class:"wrap"},xt={class:"left-part"},Lt={class:"main-nav"},$t={key:0,class:"right-part"},At={class:"nav-search"},It={key:0,class:"nav-me"},Ct=["src"],Mt={key:1,class:"nav-me"},Bt=["src"],Vt=A({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const r=M(e),l=X(r,"isBackend"),o=K(),t=M(o),a=X(t,"cookies"),u=H(()=>!!a.value.user);function m(){o.setLoginModal(!0)}const d=Oe();function s(c){const p=c.target.value;if(p==="")return!1;d.replace(`/search/${p}`)}return(c,p)=>{const b=me("router-link");return y(),T("nav",St,[i("div",Rt,[i("div",xt,[k(b,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:L(()=>[...p[1]||(p[1]=[i("i",{class:"icon icon-nav-logo"},null,-1),i("span",{class:"hidden"},"M.M.F 小屋",-1)])]),_:1}),i("div",Lt,[k(b,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:L(()=>[...p[2]||(p[2]=[i("i",{class:"icon icon-nav-home"},null,-1),i("span",{class:"text"},"首页",-1)])]),_:1}),k(b,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:L(()=>[...p[3]||(p[3]=[i("i",{class:"icon icon-nav-explore"},null,-1),i("span",{class:"text"},"热门",-1)])]),_:1}),k(b,{to:"/about","active-class":"current",class:"nav-link"},{default:L(()=>[...p[4]||(p[4]=[i("i",{class:"icon icon-nav-features"},null,-1),i("span",{class:"text"},"关于",-1)])]),_:1}),p[5]||(p[5]=i("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[i("i",{class:"icon icon-nav-game"}),i("span",{class:"text"},"汉兜")],-1))])]),l.value?le("",!0):(y(),T("div",$t,[i("span",At,[p[6]||(p[6]=i("i",{class:"icon icon-search-white"},null,-1)),i("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:p[0]||(p[0]=Ve(h=>s(h),["enter"]))},null,32)]),f(u)?(y(),T("span",It,[k(b,{to:"/user/account",class:"nav-me-link"},{default:L(()=>[i("img",{src:("useAvatar"in c?c.useAvatar:f(ie))(a.value.useremail,100),class:"nav-avatar-img"},null,8,Ct)]),_:1})])):(y(),T("span",Mt,[i("a",{href:"javascript:;",class:"nav-me-link",onClick:m},[i("img",{src:("useAvatar"in c?c.useAvatar:f(ie))("noavatar"),class:"nav-avatar-img"},null,8,Bt)])]))]))])])}}}),Ot=A({name:"AppRoot",__name:"app",setup(e){const n=K(),{showLoginModal:r,showRegisterModal:l}=M(n),o=oe(),{pageTransitionName:t}=te(o),a=x("frontend-index,frontend-about"),u=pe(),m=H(()=>(u.meta.path||u.path).replace(/\//g,"_")),d=H(()=>u.path.includes("backend"));function s(){o.setPageSwitching(!0)}function c(){o.setPageSwitching(!1)}return(p,b)=>{const h=Vt,v=me("router-view"),S=Et,I=wt,g=ut,E=lt,$=he,w=rt;return y(),T("div",{class:ne(d.value?"backend":"frontend")},[k(h,{"is-backend":d.value},null,8,["is-backend"]),k(v,{class:"app-view relative"},{default:L(({Component:N})=>[k(De,{name:f(t),mode:"out-in",onBeforeEnter:s,onAfterEnter:c},{default:L(()=>[(y(),Y(We,{key:m.value,include:a.value},[(y(),Y(Ne,null,{default:L(()=>[(y(),Y(Ue(N),{key:m.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),k(S,{show:f(r)},null,8,["show"]),k(I,{show:f(l)},null,8,["show"]),k(g),k(w,null,{default:L(()=>[k(E),k($)]),_:1})],2)}}}),Dt=()=>_(()=>import("./404-BQbzLh34.js"),__vite__mapDeps([2,3,0,1,4])),z=()=>_(()=>import("./frontend-index-DZVuliod.js"),__vite__mapDeps([5,6,0,1,3,7,4])),Wt=()=>_(()=>import("./frontend-article-C_AiORjQ.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),Nt=()=>_(()=>import("./frontend-about-BVfGjIXb.js"),__vite__mapDeps([10,3,0,1,4])),Ut=()=>_(()=>import("./frontend-user-CAjNlaws.js"),__vite__mapDeps([11,0,1,4])),qt=()=>_(()=>import("./frontend-user-account-CfU4uiGt.js"),__vite__mapDeps([12,13,0,1,4])),jt=()=>_(()=>import("./frontend-user-password-Dd-M8M6a.js"),__vite__mapDeps([14,13,0,1,4])),Ft=()=>_(()=>import("./backend-login-BerSmeXW.js"),__vite__mapDeps([15,13,0,1,4])),zt=()=>_(()=>import("./backend-index-D6sjMqbQ.js"),__vite__mapDeps([16,0,1])),Ht=()=>_(()=>import("./backend-article-list-BwCo8ofG.js"),__vite__mapDeps([17,0,1,18,4])),Xt=()=>_(()=>import("./backend-article-insert-BX-34AkJ.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Kt=()=>_(()=>import("./backend-article-modify-DiMwFrxq.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Gt=()=>_(()=>import("./backend-article-comment-WqR8zJqX.js"),__vite__mapDeps([22,0,1,9,4])),Yt=()=>_(()=>import("./backend-category-list-B6W_NIjB.js"),__vite__mapDeps([23,7,0,1,4])),Jt=()=>_(()=>import("./backend-category-insert-ChSa9Are.js"),__vite__mapDeps([24,13,0,1,7,4])),Qt=()=>_(()=>import("./backend-category-modify-D14KAlCF.js"),__vite__mapDeps([25,13,0,1,7,4])),Zt=()=>_(()=>import("./backend-admin-list-D07RBiX2.js"),__vite__mapDeps([26,0,1,27,4])),en=()=>_(()=>import("./backend-admin-modify-C89ksffc.js"),__vite__mapDeps([28,13,0,1,27,4])),tn=()=>_(()=>import("./backend-user-list-jFZWHfl4.js"),__vite__mapDeps([29,0,1,30,4])),nn=()=>_(()=>import("./backend-user-modify-Bh9dyNlm.js"),__vite__mapDeps([31,13,0,1,30,4]));function on(e,n,r){const l=fe.get("user");_e&&!l?r("/"):r()}function sn(e,n,r){const l=fe.get("b_user");_e&&!l?r("/backend/login"):r()}const P={meta:{index:1,path:"/backend"},beforeEnter:sn},an=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:z,meta:{index:1}},{name:"trending",path:"/trending/:by",component:z,meta:{index:1}},{name:"category",path:"/category/:id",component:z,meta:{index:1}},{name:"search",path:"/search/:key",component:z,meta:{index:1}},{name:"article",path:"/article/:id",component:Wt,meta:{index:2}},{name:"about",path:"/about",component:Nt,meta:{index:1}},{name:"account",path:"/user",component:Ut,meta:{index:1},beforeEnter:on,children:[{path:"account",component:qt,meta:{path:"/user"}},{path:"password",component:jt,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:zt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:Ft},{name:"admin_list",path:"admin/list",component:Zt,...P},{name:"admin_modify",path:"admin/modify/:id",component:en,...P},{name:"article_list",path:"article/list",component:Ht,...P},{name:"article_insert",path:"article/insert",component:Xt,...P},{name:"article_modify",path:"article/modify/:id",component:Kt,...P},{name:"article_comment",path:"article/comment/:id",component:Gt,...P},{name:"category_list",path:"category/list",component:Yt,...P},{name:"category_insert",path:"category/insert",component:Jt,...P},{name:"category_modify",path:"category/modify/:id",component:Qt,...P},{name:"user_list",path:"user/list",component:tn,...P},{name:"user_modify",path:"user/modify/:id",component:nn,...P}]},{name:"404",path:"/:catchAll(.*)",component:Dt}];function rn(e){const n=qe({history:je(),routes:an}),r="slide-left",l="slide-right";return n.beforeEach((o,t,a)=>{const u=oe(e),{needPageTransition:m}=te(u);if(m.value){let d;!t.meta.index||o.meta.index===t.meta.index?d="fade":o.meta.index>t.meta.index?d=r:d=l,u.setPageTransitionName(d)}a()}),n.beforeResolve(async(o,t)=>{let a=!1;const u=o.matched.filter((m,d)=>a||(a=t.matched[d]!==m)||t.path!==o.path);if(!u.length)return!1;await Promise.all(u.map(m=>{var d,s;return((d=m.components)==null?void 0:d.default).asyncData?((s=m.components)==null?void 0:s.default).asyncData({store:e,route:o}):!0}))}),n}console.log("当前环境: production");function ln(){const e=Fe(Ot),n=ue(),r=rn(n);return e.use(n).use(r).use(at),{app:e,router:r,store:n}}ge.use(ze,{Prism:He,codeHighlightExtensionMap:{vue:"html"}}).use(Xe());const{app:Z,router:cn,store:un}=ln(),dn=Ke();cn.isReady().then(()=>{Z.component("ReloadPrompt",he),Z.use(dn),Z.use(Ge.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(ge).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(un.state.value=window.__INITIAL_STATE__);export{rt as _,K as a,ve as b,we as c,ie as d,_n as e,oe as f,R as s,gn as u};
