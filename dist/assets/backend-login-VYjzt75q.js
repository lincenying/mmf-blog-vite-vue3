import{e as p,b as u,s as m,c as f,_}from"./main-D8-klkuU.js";import{_ as w}from"./a-input.vue_vue_type_script_setup_true_lang-BF10R7es.js";import{v as e,k as V,p as b,z as v}from"./vendor-DvyKuS15.js";/* empty css               */const N={class:"settings-main card"},g={class:"settings-main-content"},k={class:"settings-footer"},C=e.defineComponent({name:"BackendLogin",__name:"backend-login",setup(E){const{ctx:d}=p(),a=V(),n=e.reactive({username:"",password:""}),r=u(async()=>{if(!n.username||!n.password)return m("请输入用户名和密码!");const l=d.$loading.show(),{code:t,data:o}=await f.post("backend/admin/login",n);l.hide(),t===200&&o&&a.push("/backend/article/list")});e.onMounted(()=>{b.get("b_user")&&a.push("/backend/article/list")});const i=e.ref("管理员登录 - M.M.F 小屋");return v({title:i,meta:[{name:"description",content:i}]}),(l,t)=>{const o=w,c=_;return e.openBlock(),e.createElementBlock("div",N,[e.createElementVNode("div",g,[e.createElementVNode("form",null,[e.createVNode(o,{title:"账号"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.unref(n).username=s),type:"text",placeholder:"请输入管理员账号",class:"base-input",name:"username"},null,512),[[e.vModelText,e.unref(n).username]]),t[3]||(t[3]=e.createElementVNode("span",{class:"input-info error"},"请输入昵称",-1))]),_:1}),e.createVNode(o,{title:"密码"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.unref(n).password=s),type:"password",placeholder:"请输入管理员密码",class:"base-input",name:"password"},null,512),[[e.vModelText,e.unref(n).password]]),t[4]||(t[4]=e.createElementVNode("span",{class:"input-info error"},"请输入密码",-1))]),_:1})])]),e.createElementVNode("div",k,[e.createElementVNode("a",{href:"javascript:;",class:"btn btn-yellow",onClick:t[2]||(t[2]=(...s)=>e.unref(r)&&e.unref(r)(...s))},"登录")]),e.createVNode(c)])}}});export{C as default};
