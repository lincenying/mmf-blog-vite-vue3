const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DvyKuS15.js","assets/vendor-DPD6zcSa.css","assets/404-CBKTFFeT.js","assets/use-frontend-article-store-uLevfqnX.js","assets/unocss-CUgZewU3.css","assets/frontend-index-C2N1cW_F.js","assets/item-actions.vue_vue_type_script_setup_true_lang-IFkGsXAe.js","assets/use-global-category-store-D37QDpdv.js","assets/frontend-article-tkb6O4C4.js","assets/use-global-comment-store-CO1eCLJa.js","assets/frontend-about-ByPqx8pr.js","assets/frontend-user-D8CU-lAL.js","assets/frontend-user-account-CE_V5_Kh.js","assets/a-input.vue_vue_type_script_setup_true_lang-BF10R7es.js","assets/frontend-user-password-CbG-_oB6.js","assets/backend-login-VYjzt75q.js","assets/backend-index-C1YsjU8U.js","assets/backend-article-list-D2tHx3o8.js","assets/use-backend-article-store-Dn6Nx5de.js","assets/backend-article-insert-NxH8WOY_.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-Cp2cnur-.js","assets/backend-article-comment-LVux5rlU.js","assets/backend-category-list-DCZnl7cK.js","assets/backend-category-insert-DOs9rOxR.js","assets/backend-category-modify-DS9QiwJa.js","assets/backend-admin-list-BpIIGBM1.js","assets/use-backend-admin-store-DKbYvDkM.js","assets/backend-admin-modify-BzBdySwb.js","assets/backend-user-list-Bch3Uj-v.js","assets/use-backend-user-store-VbFANW7h.js","assets/backend-user-modify-DiRgJwKB.js"])))=>i.map(i=>d[i]);
import{v as e,E as re,a as L,b as H,u as ie,c as le,d as ce,e as X,f as K,g as de,m as ue,h as G,s as O,o as pe,i as R,q as me,j,k as fe,l as _e,n as he,p as Y,r as J,t as ge,V as Q,w as ve,P as we,x as Ee,y as ke}from"./vendor-DvyKuS15.js";/* empty css               */(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const Ve="modulepreload",ye=function(t){return"/"+t},q={},f=function(s,i,a){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),d=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(i.map(u=>{if(u=ye(u),u in q)return;q[u]=!0;const p=u.endsWith(".css"),l=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${l}`))return;const c=document.createElement("link");if(c.rel=p?"stylesheet":Ve,p||(c.as="script"),c.crossOrigin="",c.href=u,d&&c.setAttribute("nonce",d),document.head.appendChild(c),p)return new Promise((m,w)=>{c.addEventListener("load",m),c.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(r){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=r,window.dispatchEvent(d),!d.defaultPrevented)throw r}return o.then(r=>{for(const d of r||[])d.status==="rejected"&&n(d.reason);return s().catch(n)})};function be(t={}){const{immediate:s=!1,onNeedRefresh:i,onOfflineReady:a,onRegistered:o,onRegisteredSW:n,onRegisterError:r}=t;let d,u;const p=async(c=!0)=>{await u};async function l(){if("serviceWorker"in navigator){if(d=await f(async()=>{const{Workbox:c}=await import("./vendor-DvyKuS15.js").then(m=>m.B);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{r==null||r(c)}),!d)return;d.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),d.addEventListener("installed",c=>{c.isUpdate||a==null||a()}),d.register({immediate:s}).then(c=>{n?n("/sw.js",c):o==null||o(c)}).catch(c=>{r==null||r(c)})}}return u=l(),p}function Ne(t={}){const{immediate:s=!0,onNeedRefresh:i,onOfflineReady:a,onRegistered:o,onRegisteredSW:n,onRegisterError:r}=t,d=e.ref(!1),u=e.ref(!1);return{updateServiceWorker:be({immediate:s,onNeedRefresh(){d.value=!0,i==null||i()},onOfflineReady(){u.value=!0,a==null||a()},onRegistered:o,onRegisteredSW:n,onRegisterError:r}),offlineReady:u,needRefresh:d}}const Pe={key:0,id:"app-refresh",class:"app-refresh"},Te={class:"app-refresh-wrap"},Z=e.defineComponent({name:"ReloadPrompt",__name:"reload-prompt",setup(t){const{offlineReady:s,needRefresh:i,updateServiceWorker:a}=Ne();async function o(){s.value=!1,i.value=!1}return(n,r)=>e.unref(i)?(e.openBlock(),e.createElementBlock("div",Pe,[e.createElementVNode("div",Te,[r[1]||(r[1]=e.createElementVNode("label",null,"新内容可用，单击刷新按钮更新",-1)),e.createElementVNode("span",{onClick:r[0]||(r[0]=d=>e.unref(a)())},"刷新"),e.createElementVNode("span",{onClick:o},"关闭")])])):e.createCommentVNode("",!0)}});function Re(t){return t.use(re),t.config.globalProperties.$msgbox=L,t.config.globalProperties.$alert=L.alert,t.config.globalProperties.$confirm=L.confirm,t.config.globalProperties.$prompt=L.prompt,t.config.globalProperties.$message=H,t}const xe=H;function Se(t){Re(t)}const Be={install:Se},Le=e.defineComponent({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(t,{slots:s}){const i=e.ref(!1);return e.onMounted(()=>{i.value=!0}),a=>{var d;if(i.value)return(d=s.default)==null?void 0:d.call(s);const o=s.fallback||s.placeholder;if(o)return o();const n=a.fallback||a.placeholder||"",r=a.fallbackTag||a.placeholderTag||"span";return e.createElementBlock(r,null,n)}}}),Ce="#88888825",Ae=e.defineComponent({__name:"bg-plum",setup(t){const s=Math.PI,i=Math.PI/2,a=Math.PI/12,o=e.ref(null),{random:n}=Math,r=e.reactive(ie()),d=e.ref(()=>{}),u=e.ref(4),p=e.ref(6),l=e.ref(!1);function c(h,g=400,V=400,N){const _=h.getContext("2d"),k=window.devicePixelRatio||1,b=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1,v=k/b;return h.style.width=`${g}px`,h.style.height=`${V}px`,h.width=v*g,h.height=v*V,_.scale(v,v),{ctx:_,dpi:v}}function m(h=0,g=0,V=0,N=0){const _=V*Math.cos(N),k=V*Math.sin(N);return[h+_,g+k]}e.onMounted(async()=>{const h=o.value,{ctx:g}=c(h,r.width,r.height),{width:V,height:N}=h;let _=[],k=[],b=0;const v=(B,U,M)=>{const oe=n()*p.value,[P,T]=m(B,U,oe,M);g.beginPath(),g.moveTo(B,U),g.lineTo(P,T),g.stroke();const se=M+n()*a,ae=M-n()*a;P<-100||P>r.width+100||T<-100||T>r.height+100||((b<=u.value||n()>.5)&&_.push(()=>v(P,T,se)),(b<=u.value||n()>.5)&&_.push(()=>v(P,T,ae)))};let x=performance.now();const ne=1e3/40;let S;S=le(()=>{performance.now()-x<ne||(b+=1,k=_,_=[],x=performance.now(),k.length||(S.pause(),l.value=!0),k.forEach(B=>B()))},{immediate:!1}),d.value=()=>{S.pause(),b=0,g.clearRect(0,0,V,N),g.lineWidth=1,g.strokeStyle=Ce,k=[],_=[()=>v(n()*r.width,0,i),()=>v(n()*r.width,r.height,-i),()=>v(0,n()*r.height,0),()=>v(r.width,n()*r.height,s)],r.width<500&&(_=_.slice(0,2)),S.resume(),l.value=!1},d.value()});const w=e.computed(()=>"radial-gradient(circle, transparent, black);");return(h,g)=>(e.openBlock(),e.createElementBlock("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:e.normalizeStyle([{"z-index":"-1"},`mask-image: ${e.unref(w)};--webkit-mask-image: ${e.unref(w)};`])},[e.createElementVNode("canvas",{ref_key:"el",ref:o,width:"400",height:"400"},null,512)],4))}}),$e={class:"back-top"},Me=e.defineComponent({name:"BackTop",__name:"back-top",setup(t){const{y:s}=ce();function i(){let a=s.value;const o=setInterval(()=>{a-=Math.abs(a*.1),a<=1&&(a=0,clearInterval(o)),window.scrollTo(0,a)},20)}return(a,o)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",$e,[e.createElementVNode("a",{href:"javascript:;",onClick:i})],512)),[[e.vShow,e.unref(s)>500]])}});X();const $=K("globalStore",()=>{const t=e.reactive({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),s=o=>{t.showLoginModal=o},i=o=>{t.showRegisterModal=o},a=o=>{t.cookies=o};return{...e.toRefs(t),setLoginModal:s,setRegisterModal:i,setCookies:a}}),W=K("appShellStore",()=>{const t=e.reactive({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),s=()=>{t.needPageTransition=!0},i=()=>{t.needPageTransition=!1},a=r=>{t.isPageSwitching=r},o=r=>{const{path:d,scrollTop:u}=r;t.historyPageScrollTop[d]=u},n=r=>{t.pageTransitionName=r};return{...e.toRefs(t),enablePageTransition:s,disablePageTransition:i,setPageSwitching:a,saveScrollTop:o,setPageTransitionName:n}});function Ot(){const t=e.getCurrentInstance(),s=t.appContext.config.globalProperties,i=t.type;return{ctx:s,options:i}}function ee(t,s="auto"){const[i,a]=de(!1);return async(...o)=>{if(!i.value){a(!0);try{const n=await t(...o);(s===!0||s==="auto"&&n!==!1)&&a(!1)}catch(n){throw a(!1),n}}}}function Wt(){const t=G(),s=W(),{historyPageScrollTop:i}=O(s);e.onActivated(()=>{const a=i.value[t.fullPath]||0;setTimeout(()=>{window.scrollTo(0,a)},300)}),e.onMounted(()=>{const a=i.value[t.fullPath]||0;setTimeout(()=>{window.scrollTo(0,a)},300)}),pe((a,o,n)=>{s.saveScrollTop({path:o.fullPath,scrollTop:Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop)}),n()})}function F(t,s){return t=t||"123456",t=decodeURIComponent(t),s=s||256,`https://cravatar.cn/avatar/${ue(t)}?s=${s}&d=identicon&r=g`}function y(t){let s,i;t?typeof t=="string"?(s=t,i="error"):(s=t.content,i=t.type):(s="接口返回数据错误",i="error"),xe[i](s)}const C={api:"/api/",timeout:3e4};R.interceptors.request.use(t=>t,t=>Promise.reject(t));R.interceptors.response.use(t=>t,t=>Promise.resolve(t.response));function I(t){return t&&(t.status===200||t.status===304)?t.data:{code:-404,message:t&&t.statusText||"未知错误",data:""}}function D(t){return t.code===-500?window.location.href="/backend":t.code===-400?window.location.href="/":t.code!==200&&y(t.message),t}function Ie(){return{async file(t,s){const i=await R({method:"post",url:t,data:s,headers:{"X-Requested-With":"XMLHttpRequest"}}),a=I(i);return D(a)},async post(t,s){const i=await R({method:"post",url:C.api+t,data:me.stringify(s),timeout:C.timeout,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),a=I(i);return D(a)},async get(t,s){const i=await R({method:"get",url:C.api+t,params:s,timeout:C.timeout,headers:{"X-Requested-With":"XMLHttpRequest"}}),a=I(i);return D(a)}}}const te=Ie(),De={class:"modal modal-signup"},Oe={class:"modal-content"},We={class:"sign-up-form"},Ue={class:"input-wrap"},je={class:"input-wrap"},qe={class:"input-wrap"},Fe={class:"input-wrap"},ze=e.defineComponent({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(t){const s=t,i=e.toRefs(s),a=e.toRef(i,"show"),o=$(),n=e.reactive({username:"",email:"",password:"",re_password:""});function r(){o.setRegisterModal(!1)}function d(){o.setLoginModal(!0),o.setRegisterModal(!1)}const u=ee(async()=>{const p=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!n.username||!n.password||!n.email)return y("请将表单填写完整!");if(j(n.username)<4)return y("用户长度至少 2 个中文或 4 个英文!");if(p.test(n.email)){if(j(n.password)<8)return y("密码长度至少 8 位!");if(n.password!==n.re_password)return y("两次输入的密码不一致!")}else return y("邮箱格式错误!");const{code:l,message:c}=await te.post("frontend/user/insert",n);l===200&&(y({type:"success",content:c}),d())});return(p,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["modal-wrap modal-signup-wrap",a.value?"active":""])},[l[11]||(l[11]=e.createElementVNode("span",{class:"center-helper"},null,-1)),e.createElementVNode("div",De,[l[10]||(l[10]=e.createElementVNode("h2",{class:"modal-title"},"注册",-1)),e.createElementVNode("a",{href:"javascript:;",class:"modal-close",onClick:r},l[5]||(l[5]=[e.createElementVNode("i",{class:"icon icon-close-black"},null,-1)])),e.createElementVNode("div",Oe,[e.createElementVNode("form",We,[e.createElementVNode("div",Ue,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>e.unref(n).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[e.vModelText,e.unref(n).username]]),l[6]||(l[6]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("div",je,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>e.unref(n).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[e.vModelText,e.unref(n).email]]),l[7]||(l[7]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("div",qe,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>e.unref(n).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[e.vModelText,e.unref(n).password]]),l[8]||(l[8]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("div",Fe,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>e.unref(n).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[e.vModelText,e.unref(n).re_password]]),l[9]||(l[9]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[4]||(l[4]=(...c)=>e.unref(u)&&e.unref(u)(...c))},"确认注册"),e.createElementVNode("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:d},"直接登录")])])])],2))}}),He={class:"modal modal-signup"},Xe={class:"modal-content"},Ke={class:"sign-up-form"},Ge={class:"input-wrap"},Ye={class:"input-wrap"},Je=e.defineComponent({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(t){const s=t,i=e.toRefs(s),a=e.toRef(i,"show"),o=$(),n=e.reactive({username:"",password:""});function r(){o.setLoginModal(!1)}function d(){o.setLoginModal(!1),o.setRegisterModal(!0)}const u=ee(async()=>{if(!n.username||!n.password)return y("请将表单填写完整!");const{code:p,message:l}=await te.post("frontend/user/login",n);p===200&&(y({type:"success",content:l}),window.location.reload())});return(p,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["modal-wrap modal-sign-in-wrap",a.value?"active":""])},[l[7]||(l[7]=e.createElementVNode("span",{class:"center-helper"},null,-1)),e.createElementVNode("div",He,[l[6]||(l[6]=e.createElementVNode("h2",{class:"modal-title"},"登录",-1)),e.createElementVNode("a",{href:"javascript:;",class:"modal-close",onClick:r},l[3]||(l[3]=[e.createElementVNode("i",{class:"icon icon-close-black"},null,-1)])),e.createElementVNode("div",Xe,[e.createElementVNode("form",Ke,[e.createElementVNode("div",Ge,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>e.unref(n).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[e.vModelText,e.unref(n).username]]),l[4]||(l[4]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("div",Ye,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>e.unref(n).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[e.vModelText,e.unref(n).password]]),l[5]||(l[5]=e.createElementVNode("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),e.createElementVNode("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[2]||(l[2]=(...c)=>e.unref(u)&&e.unref(u)(...c))},"确认登录"),e.createElementVNode("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:d},"我要注册")])])])],2))}}),Qe={class:"global-nav"},Ze={class:"wrap"},et={class:"left-part"},tt={class:"main-nav"},nt={key:0,class:"right-part"},ot={class:"nav-search"},st={key:0,class:"nav-me"},at=["src"],rt={key:1,class:"nav-me"},it=["src"],lt=e.defineComponent({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(t){const s=t,i=e.toRefs(s),a=e.toRef(i,"isBackend"),o=$(),n=e.toRefs(o),r=e.toRef(n,"cookies"),d=e.computed(()=>!!r.value.user);function u(){o.setLoginModal(!0)}const p=fe();function l(c){const m=c.target.value;if(m==="")return!1;p.replace(`/search/${m}`)}return(c,m)=>{const w=e.resolveComponent("router-link");return e.openBlock(),e.createElementBlock("nav",Qe,[e.createElementVNode("div",Ze,[e.createElementVNode("div",et,[e.createVNode(w,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:e.withCtx(()=>m[1]||(m[1]=[e.createElementVNode("i",{class:"icon icon-nav-logo"},null,-1),e.createElementVNode("span",{class:"hidden"},"M.M.F 小屋",-1)])),_:1}),e.createElementVNode("div",tt,[e.createVNode(w,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:e.withCtx(()=>m[2]||(m[2]=[e.createElementVNode("i",{class:"icon icon-nav-home"},null,-1),e.createElementVNode("span",{class:"text"},"首页",-1)])),_:1}),e.createVNode(w,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:e.withCtx(()=>m[3]||(m[3]=[e.createElementVNode("i",{class:"icon icon-nav-explore"},null,-1),e.createElementVNode("span",{class:"text"},"热门",-1)])),_:1}),e.createVNode(w,{to:"/about","active-class":"current",class:"nav-link"},{default:e.withCtx(()=>m[4]||(m[4]=[e.createElementVNode("i",{class:"icon icon-nav-features"},null,-1),e.createElementVNode("span",{class:"text"},"关于",-1)])),_:1}),m[5]||(m[5]=e.createElementVNode("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[e.createElementVNode("i",{class:"icon icon-nav-game"}),e.createElementVNode("span",{class:"text"},"汉兜")],-1))])]),a.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",nt,[e.createElementVNode("span",ot,[m[6]||(m[6]=e.createElementVNode("i",{class:"icon icon-search-white"},null,-1)),e.createElementVNode("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:m[0]||(m[0]=e.withKeys(h=>l(h),["enter"]))},null,32)]),e.unref(d)?(e.openBlock(),e.createElementBlock("span",st,[e.createVNode(w,{to:"/user/account",class:"nav-me-link"},{default:e.withCtx(()=>[e.createElementVNode("img",{src:("useAvatar"in c?c.useAvatar:e.unref(F))(r.value.useremail,100),class:"nav-avatar-img"},null,8,at)]),_:1})])):(e.openBlock(),e.createElementBlock("span",rt,[e.createElementVNode("a",{href:"javascript:;",class:"nav-me-link",onClick:u},[e.createElementVNode("img",{src:("useAvatar"in c?c.useAvatar:e.unref(F))("noavatar"),class:"nav-avatar-img"},null,8,it)])]))]))])])}}}),ct=e.defineComponent({name:"AppRoot",__name:"app",setup(t){const s=$(),{showLoginModal:i,showRegisterModal:a}=e.toRefs(s),o=W(),{pageTransitionName:n}=O(o),r=e.ref("frontend-index,frontend-about"),d=G(),u=e.computed(()=>(d.meta.path||d.path).replace(/\//g,"_")),p=e.computed(()=>d.path.includes("backend"));function l(){o.setPageSwitching(!0)}function c(){o.setPageSwitching(!1)}return(m,w)=>{const h=lt,g=e.resolveComponent("router-view"),V=Je,N=ze,_=Me,k=Ae,b=Z,v=Le;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(p.value?"backend":"frontend")},[e.createVNode(h,{"is-backend":p.value},null,8,["is-backend"]),e.createVNode(g,{class:"app-view relative"},{default:e.withCtx(({Component:x})=>[e.createVNode(e.Transition,{name:e.unref(n),mode:"out-in",onBeforeEnter:l,onAfterEnter:c},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.KeepAlive,{key:u.value,include:r.value},[(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(x),{key:u.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),e.createVNode(V,{show:e.unref(i)},null,8,["show"]),e.createVNode(N,{show:e.unref(a)},null,8,["show"]),e.createVNode(_),e.createVNode(v,null,{default:e.withCtx(()=>[e.createVNode(k),e.createVNode(b)]),_:1})],2)}}}),dt=()=>f(()=>import("./404-CBKTFFeT.js"),__vite__mapDeps([2,3,0,1,4])),A=()=>f(()=>import("./frontend-index-C2N1cW_F.js"),__vite__mapDeps([5,6,0,1,3,7,4])),ut=()=>f(()=>import("./frontend-article-tkb6O4C4.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),pt=()=>f(()=>import("./frontend-about-ByPqx8pr.js"),__vite__mapDeps([10,3,0,1,4])),mt=()=>f(()=>import("./frontend-user-D8CU-lAL.js"),__vite__mapDeps([11,0,1,4])),ft=()=>f(()=>import("./frontend-user-account-CE_V5_Kh.js"),__vite__mapDeps([12,13,0,1,4])),_t=()=>f(()=>import("./frontend-user-password-CbG-_oB6.js"),__vite__mapDeps([14,13,0,1,4])),ht=()=>f(()=>import("./backend-login-VYjzt75q.js"),__vite__mapDeps([15,13,0,1,4])),gt=()=>f(()=>import("./backend-index-C1YsjU8U.js"),__vite__mapDeps([16,0,1])),vt=()=>f(()=>import("./backend-article-list-D2tHx3o8.js"),__vite__mapDeps([17,0,1,18,4])),wt=()=>f(()=>import("./backend-article-insert-NxH8WOY_.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Et=()=>f(()=>import("./backend-article-modify-Cp2cnur-.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),kt=()=>f(()=>import("./backend-article-comment-LVux5rlU.js"),__vite__mapDeps([22,0,1,9,4])),Vt=()=>f(()=>import("./backend-category-list-DCZnl7cK.js"),__vite__mapDeps([23,0,1,7,4])),yt=()=>f(()=>import("./backend-category-insert-DOs9rOxR.js"),__vite__mapDeps([24,13,0,1,7,4])),bt=()=>f(()=>import("./backend-category-modify-DS9QiwJa.js"),__vite__mapDeps([25,13,0,1,7,4])),Nt=()=>f(()=>import("./backend-admin-list-BpIIGBM1.js"),__vite__mapDeps([26,0,1,27,4])),Pt=()=>f(()=>import("./backend-admin-modify-BzBdySwb.js"),__vite__mapDeps([28,13,0,1,27,4])),Tt=()=>f(()=>import("./backend-user-list-Bch3Uj-v.js"),__vite__mapDeps([29,0,1,30,4])),Rt=()=>f(()=>import("./backend-user-modify-DiRgJwKB.js"),__vite__mapDeps([31,13,0,1,30,4]));function xt(t,s,i){const a=Y.get("user");J&&!a?i("/"):i()}function St(t,s,i){const a=Y.get("b_user");J&&!a?i("/backend/login"):i()}const E={meta:{index:1,path:"/backend"},beforeEnter:St},Bt=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:A,meta:{index:1}},{name:"trending",path:"/trending/:by",component:A,meta:{index:1}},{name:"category",path:"/category/:id",component:A,meta:{index:1}},{name:"search",path:"/search/:key",component:A,meta:{index:1}},{name:"article",path:"/article/:id",component:ut,meta:{index:2}},{name:"about",path:"/about",component:pt,meta:{index:1}},{name:"account",path:"/user",component:mt,meta:{index:1},beforeEnter:xt,children:[{path:"account",component:ft,meta:{path:"/user"}},{path:"password",component:_t,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:gt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:ht},{name:"admin_list",path:"admin/list",component:Nt,...E},{name:"admin_modify",path:"admin/modify/:id",component:Pt,...E},{name:"article_list",path:"article/list",component:vt,...E},{name:"article_insert",path:"article/insert",component:wt,...E},{name:"article_modify",path:"article/modify/:id",component:Et,...E},{name:"article_comment",path:"article/comment/:id",component:kt,...E},{name:"category_list",path:"category/list",component:Vt,...E},{name:"category_insert",path:"category/insert",component:yt,...E},{name:"category_modify",path:"category/modify/:id",component:bt,...E},{name:"user_list",path:"user/list",component:Tt,...E},{name:"user_modify",path:"user/modify/:id",component:Rt,...E}]},{name:"404",path:"/:catchAll(.*)",component:dt}];function Lt(t){const s=_e({history:he(),routes:Bt}),i="slide-left",a="slide-right";return s.beforeEach((o,n,r)=>{const d=W(t),{needPageTransition:u}=O(d);if(u.value){let p;!n.meta.index||o.meta.index===n.meta.index?p="fade":o.meta.index>n.meta.index?p=i:p=a,d.setPageTransitionName(p)}r()}),s.beforeResolve(async(o,n)=>{let r=!1;const d=o.matched.filter((u,p)=>r||(r=n.matched[p]!==u)||n.path!==o.path);if(!d.length)return!1;await Promise.all(d.map(u=>{var p,l;return((p=u.components)==null?void 0:p.default).asyncData?((l=u.components)==null?void 0:l.default).asyncData({store:t,route:o}):!0}))}),s}console.log("当前环境: production");function Ct(){const t=e.createApp(ct),s=X(),i=Lt(s),a=ge();return t.use(s).use(i).use(a).use(Be),{app:t,router:i,store:s,head:a}}Q.use(ve,{Prism:we,codeHighlightExtensionMap:{vue:"html"}}).use(Ee());const{app:z,router:At,store:$t}=Ct();At.isReady().then(()=>{z.component("ReloadPrompt",Z),z.use(ke.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(Q).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&($t.state.value=window.__INITIAL_STATE__);export{Le as _,$ as a,ee as b,te as c,F as d,Ot as e,W as f,y as s,Wt as u};
